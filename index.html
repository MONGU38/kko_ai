<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Íº¨Íº¨ÎÑà - Íº¨Î¶¨Ïóê Íº¨Î¶¨Î•º Î¨ºÏñ¥ Ï∞æÏùÄ ÎÑà</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { 
          ChevronDown, 
          ChevronUp, 
          MessageCircle, 
          Home, 
          Search, 
          ArrowLeft, 
          Send,
          Bot,
          User,
          RotateCcw,
          LogOut
        } = lucide;

        const KokkoNeoAIApp = () => {
          const [currentScreen, setCurrentScreen] = useState('login');
          const [user, setUser] = useState({ username: '', password: '' });
          const [selectedCategory, setSelectedCategory] = useState('');
          const [chatMessages, setChatMessages] = useState([]);
          const [currentMessage, setCurrentMessage] = useState('');
          const [isAITyping, setIsAITyping] = useState(false);
          const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
          const [userResponses, setUserResponses] = useState({});
          const [chatPhase, setChatPhase] = useState('category');
          const [matches, setMatches] = useState([]);
          const [selectedMatch, setSelectedMatch] = useState(null);
          const [privateMessages, setPrivateMessages] = useState([]);
          const [privateChatMessage, setPrivateChatMessage] = useState('');
          
          const messagesEndRef = useRef(null);
          const inputRef = useRef(null);

          const categories = [
            'Ïã§Ï¢ÖÏïÑÎèô Î∞è Í∞ÄÏ°±',
            'Ïù¥ÏÇ∞Í∞ÄÏ°±', 
            'ÎèôÎÑ§ÏπúÍµ¨',
            'ÌïôÍµêÏπúÍµ¨',
            'Ïó∞Ïù∏Ï∞æÍ∏∞',
            'Íµ∞ÎåÄÏπúÍµ¨',
            'ÏßÅÏû•ÏπúÍµ¨'
          ];

          const basicQuestions = [
            'Ïù¥Î¶ÑÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî (Í∞ÄÎ™ÖÏù¥ÎÇò Î≥ÑÎ™ÖÎèÑ Í∞ÄÎä•Ìï¥Ïöî)',
            'ÌÉúÏñ¥ÎÇú ÏÉùÎÖÑÏõîÏùºÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
            'Îã§ÎãàÏÖ®Îçò Ï¥àÏ§ëÍ≥†ÎåÄÌïôÍ≥º Ï†ÑÍ≥µÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
            'Î∂ÄÎ™®ÎãòÏùò Ïù¥Î¶ÑÍ≥º ÏßÅÏóÖÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
            'ÌòïÏ†úÏûêÎß§Ïùò Ïù¥Î¶ÑÍ≥º Î≥ÑÎ™ÖÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
            'Ïã†Ï≤¥ ÌäπÏßïÏù¥ ÏûàÎã§Î©¥ ÏïåÎ†§Ï£ºÏÑ∏Ïöî (Î¨∏Ïã†, Ï†ê, ÏÉÅÏ≤ò Îì±)',
            'ÎßéÏù¥ ÏïìÏúºÏÖ®Îçò Î≥ëÏù¥ ÏûàÎã§Î©¥ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
            'ÏÇ¥ÏúºÏÖ®Îçò ÎèôÎÑ§Îì§ÏùÑ Î™®Îëê ÏïåÎ†§Ï£ºÏÑ∏Ïöî'
          ];

          const categoryQuestions = {
            'Ïã§Ï¢ÖÏïÑÎèô Î∞è Í∞ÄÏ°±': [
              'ÏÇ¥Îçò ÏßëÏùò ÌòïÌÉúÎäî Ïñ¥Îñ†ÏÖ®ÎÇòÏöî? (ÌïúÏò•, ÏñëÏò•, Îã§ÏÑ∏ÎåÄ, Ïó∞Î¶Ω, ÏïÑÌååÌä∏)',
              'Î™á Ï∏µÏóê ÏÇ¨ÏÖ®ÎäîÏßÄ Í∏∞ÏñµÎÇòÏãúÎÇòÏöî?',
              'ÎåÄÎ¨∏Ïùò ÏÉâÍπîÏùÄ Ïñ¥Îñ†ÏÖ®ÎÇòÏöî?',
              'ÎåÄÎ¨∏Ïù¥ ÎÇòÎ¨¥ÏòÄÎäîÏßÄ Ï≤†Ï†úÏòÄÎäîÏßÄ Í∏∞ÏñµÎÇòÏãúÎÇòÏöî?',
              'Ïßë ÏïûÏóê Í≥ÑÎã®Ïù¥ ÏûàÏóàÎÇòÏöî?',
              'Ïßë Í∑ºÏ≤òÏóê Ïö∞Î¨º, ÎÜÄÏù¥ÌÑ∞, Í≥µÏõêÏù¥ ÏûàÏóàÎÇòÏöî?',
              'Ïßë Í∑ºÏ≤òÏóê ÏßÄÌïòÏ≤†, Í∏∞Ï∞®Ïó≠, Î≤ÑÏä§Ï†ïÎ•òÏÜåÍ∞Ä ÏûàÏóàÎÇòÏöî?',
              'ÏßëÏóê Ïã≠ÏûêÍ∞ÄÎÇò Î∂àÍµê Í¥ÄÎ†® Î¨ºÍ±¥Ïù¥ ÏûàÏóàÎÇòÏöî?',
              'ÎßàÎãπÏóê ÏûàÎçò Í≤ÉÎì§ÏùÑ Í∏∞ÏñµÌïòÏãúÎÇòÏöî?'
            ],
            'Ïù¥ÏÇ∞Í∞ÄÏ°±': [
              'Î≥∏Ïù∏Ïùò Í≥†Ìñ•ÏùÄ Ïñ¥ÎîîÏù∏Í∞ÄÏöî?',
              'Ï∞æÍ≥† Í≥ÑÏã† Î∂ÑÏùò Í≥†Ìñ•ÏùÄ Ïñ¥ÎîîÏù∏Í∞ÄÏöî?',
              'Î≥∏Ïù∏Ïùò Ïã†Ï≤¥ ÌäπÏßïÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Ï∞æÍ≥† Í≥ÑÏã† Î∂ÑÏùò Ïã†Ï≤¥ ÌäπÏßïÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Ïô∏Í∞ÄÎÇò ÏπúÍ∞ÄÏóêÏÑú Í∏∞ÏñµÎÇòÎäî Ïù¥Î¶ÑÎì§ÏùÑ Î™®Îëê ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Ïô∏Í∞ÄÎÇò ÏπúÍ∞ÄÎì§Ïù¥ ÏÇ¥Îçò ÎèôÎÑ§Î•º ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Ìó§Ïñ¥ÏßÑ ÎÖÑÎèÑÎ•º ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Ìó§Ïñ¥ÏßÑ Ïù¥Ïú†Î•º ÏïåÎ†§Ï£ºÏÑ∏Ïöî'
            ],
            'ÎèôÎÑ§ÏπúÍµ¨': [
              'ÏÇ¥Îçò ÏßëÏùò ÌòïÌÉúÎäî Ïñ¥Îñ†ÏÖ®ÎÇòÏöî? (ÌïúÏò•, ÏñëÏò•, Îã§ÏÑ∏ÎåÄ, Ïó∞Î¶Ω, ÏïÑÌååÌä∏)',
              'Î™á Ï∏µÏóê ÏÇ¨ÏÖ®ÎäîÏßÄ Í∏∞ÏñµÎÇòÏãúÎÇòÏöî?',
              'ÎåÄÎ¨∏Ïùò ÏÉâÍπîÏùÄ Ïñ¥Îñ†ÏÖ®ÎÇòÏöî?',
              'ÎåÄÎ¨∏Ïù¥ ÎÇòÎ¨¥ÏòÄÎäîÏßÄ Ï≤†Ï†úÏòÄÎäîÏßÄ Í∏∞ÏñµÎÇòÏãúÎÇòÏöî?',
              'Ïßë ÏïûÏóê Í≥ÑÎã®Ïù¥ ÏûàÏóàÎÇòÏöî?',
              'Ïßë Í∑ºÏ≤òÏóê Ïö∞Î¨º, ÎÜÄÏù¥ÌÑ∞, Í≥µÏõêÏù¥ ÏûàÏóàÎÇòÏöî?',
              'Ïßë Í∑ºÏ≤òÏóê ÏßÄÌïòÏ≤†, Í∏∞Ï∞®Ïó≠, Î≤ÑÏä§Ï†ïÎ•òÏÜåÍ∞Ä ÏûàÏóàÎÇòÏöî?',
              'ÏßëÏóê Ïã≠ÏûêÍ∞ÄÎÇò Î∂àÍµê Í¥ÄÎ†® Î¨ºÍ±¥Ïù¥ ÏûàÏóàÎÇòÏöî?'
            ],
            'ÌïôÍµêÏπúÍµ¨': [
              'Ï∞æÍ≥† Í≥ÑÏã† ÏπúÍµ¨Ïùò Ïù¥Î¶ÑÏù¥ÎÇò Î≥ÑÎ™ÖÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'ÌïôÍµêÎ™ÖÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'ÌïôÍ≥ºÎÇò Ï†ÑÍ≥µÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Ïûò ÌïòÎçò Í≥ºÎ™©Ïù¥ ÏûàÏóàÎÇòÏöî?',
              'ÏπúÍµ¨ÏôÄ ÌïôÍµêÏóêÏÑú ÏûàÏóàÎçò Ìï¥ÌîÑÎãùÏù¥ ÏûàÎÇòÏöî?',
              'Ïñ¥Î†§ÏõÄÏù¥ÎÇò Í≥§Í≤ΩÏóêÏÑú ÎèÑÏôÄÏ§Ä ÏùºÏù¥ ÏûàÎÇòÏöî?',
              'ÏÜåÌíçÏù¥ÎÇò ÏàòÌïôÏó¨ÌñâÏùÄ Ïñ¥ÎîîÎ°ú Í∞îÏóàÎÇòÏöî?',
              'ÏàòÌïôÏó¨ÌñâÏóêÏÑú Í∏∞ÏñµÏóê ÎÇ®Îäî ÏùºÏù¥ ÏûàÎÇòÏöî?'
            ],
            'Ïó∞Ïù∏Ï∞æÍ∏∞': [
              'Ïó∞Ïù∏Ïùò ÏÑ±Î≥ÑÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Ïó∞Ïù∏Ïùò Ïù¥Î¶ÑÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Ïó∞Ïù∏Ïùò ÏßÅÏóÖÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Ïó∞Ïù∏ÏùÑ ÎßåÎÇú ÎÖÑÎèÑÎ•º ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Ìó§Ïñ¥ÏßÑ ÎÖÑÎèÑÎ•º ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Ìó§Ïñ¥ÏßÑ Ïù¥Ïú†Î•º ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Í∏∞ÏñµÏóê ÎÇ®ÏùÄ Ïó¨ÌñâÏßÄÏôÄ Ïó∞ÎèÑÎ•º ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Í∏∞ÏñµÏóê ÎÇ®Îäî ÏÇ¨Í±¥Ïù¥ ÏûàÎÇòÏöî?'
            ],
            'Íµ∞ÎåÄÏπúÍµ¨': [
              'Ï∞æÍ≥† Í≥ÑÏã† Î∂ÑÏùò Ïù¥Î¶ÑÏù¥ÎÇò Î≥ÑÎ™ÖÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Í≥ÑÍ∏âÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Íµ∞Î≤àÏùÑ Í∏∞ÏñµÌïòÏãúÎÇòÏöî?',
              'ÌïôÎ†•ÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'ÌòïÏ†ú Ï§ë Î™á ÎÇ® Î™á ÎÖÄÏù∏ÏßÄ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Ïã†Ï≤¥ ÌäπÏßïÏù¥ÎÇò Ï†ê, ÏÉÅÏ≤òÍ∞Ä ÏûàÏóàÎÇòÏöî?',
              'Í≥†Ìñ•Ïù¥ Ïñ¥ÎîîÏù∏Í∞ÄÏöî?',
              'ÏÇ¥Îçò ÎèôÎÑ§Î•º ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'Î∂ÄÎ™®ÎãòÏùò ÏßÅÏóÖÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî'
            ],
            'ÏßÅÏû•ÏπúÍµ¨': [
              'Ï∞æÍ≥† Í≥ÑÏã† Î∂ÑÏùò Ïù¥Î¶ÑÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'ÏßÅÏ±ÖÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'ÏßÅÎ¨¥Î•º ÏïåÎ†§Ï£ºÏÑ∏Ïöî (ÏòÅÏóÖ, ÌåêÎß§, Í≤ΩÎ¶¨ Îì±)',
              'ÌöåÏÇ¨Î™ÖÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'ÌöåÏÇ¨ Ï£ºÏÜåÎ•º ÏïåÎ†§Ï£ºÏÑ∏Ïöî (Ïó¨ÏùòÎèÑ, Î™ÖÎèô Îì±)',
              'ÌöåÏÇ¨ ÎåÄÌëú Ïù¥Î¶ÑÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî',
              'ÏóÖÏ¢ÖÏùÑ ÏïåÎ†§Ï£ºÏÑ∏Ïöî'
            ]
          };

          const scrollToBottom = () => {
            messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
          };

          useEffect(() => {
            scrollToBottom();
            if ((chatPhase === 'questioning' || chatPhase === 'additional') && inputRef.current) {
              setTimeout(() => {
                inputRef.current?.focus();
              }, 100);
            }
          }, [chatMessages, isAITyping, chatPhase]);

          const simulateAITyping = (message, callback) => {
            setIsAITyping(true);
            setTimeout(() => {
              setChatMessages(prev => [...prev, { 
                type: 'ai', 
                content: message,
                showSkipButton: chatPhase === 'questioning' || (callback && chatPhase !== 'additional' && chatPhase !== 'complete')
              }]);
              setIsAITyping(false);
              if (callback) callback();
            }, 1000 + Math.random() * 1000);
          };

          const handleLogin = () => {
            if (user.username && user.password) {
              setCurrentScreen('main');
              setChatMessages([{
                type: 'ai',
                content: 'ÏïàÎÖïÌïòÏÑ∏Ïöî! Íº¨Íº¨ÎÑàÏóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§. ÏïÑÎûò Ïπ¥ÌÖåÍ≥†Î¶¨ÏóêÏÑú ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî.'
              }]);
            }
          };

          const handleCategorySelect = (category) => {
            if (selectedCategory === category) return;
            
            if (selectedCategory && selectedCategory !== category) {
              setChatMessages(prev => [...prev, 
                { type: 'user', content: category },
                { type: 'ai', content: `${category}Î°ú Î≥ÄÍ≤ΩÌïòÏãúÍ≤†ÏäµÎãàÍπå?`, showButtons: ['Ïòà', 'ÏïÑÎãàÏò§'] }
              ]);
              return;
            }
            
            setSelectedCategory(category);
            setChatMessages(prev => [...prev, 
              { type: 'user', content: category },
              { type: 'ai', content: `${category}Ïóê ÎåÄÌïú ÏûêÎ£åÎ•º ÏàòÏßëÌïòÍ≤†ÏäµÎãàÎã§. Î®ºÏ†Ä Í∏∞Î≥∏ Ï†ïÎ≥¥Î∂ÄÌÑ∞ ÏïåÎ†§Ï£ºÏÑ∏Ïöî.` }
            ]);
            setChatPhase('questioning');
            setCurrentQuestionIndex(0);
            
            setTimeout(() => {
              simulateAITyping(basicQuestions[0]);
            }, 1000);
          };

          const handleCategoryChange = (confirm) => {
            if (confirm === 'Ïòà') {
              const newCategory = chatMessages[chatMessages.length-2].content;
              setSelectedCategory(newCategory);
              setChatMessages(prev => [...prev, 
                { type: 'user', content: 'Ïòà' },
                { type: 'ai', content: `${newCategory}Ïóê ÎåÄÌïú ÏûêÎ£åÎ•º ÏàòÏßëÌïòÍ≤†ÏäµÎãàÎã§. Î®ºÏ†Ä Í∏∞Î≥∏ Ï†ïÎ≥¥Î∂ÄÌÑ∞ ÏïåÎ†§Ï£ºÏÑ∏Ïöî.` }
              ]);
              setChatPhase('questioning');
              setCurrentQuestionIndex(0);
              setUserResponses({});
              
              setTimeout(() => {
                simulateAITyping(basicQuestions[0]);
              }, 1000);
            } else {
              setChatMessages(prev => [...prev, 
                { type: 'user', content: 'ÏïÑÎãàÏò§' },
                { type: 'ai', content: 'ÏïÑÎûò Ïπ¥ÌÖåÍ≥†Î¶¨ÏóêÏÑú Îã§Ïãú ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî.' }
              ]);
            }
          };

          const handleQuestionResponse = (response) => {
            setChatMessages(prev => [...prev, { type: 'user', content: response }]);
            
            const allQuestions = [...basicQuestions, ...(categoryQuestions[selectedCategory] || [])];
            const responseKey = `q_${currentQuestionIndex}`;
            setUserResponses(prev => ({ ...prev, [responseKey]: response }));
            
            if (currentQuestionIndex < allQuestions.length - 1) {
              const nextIndex = currentQuestionIndex + 1;
              setCurrentQuestionIndex(nextIndex);
              simulateAITyping(allQuestions[nextIndex]);
            } else {
              simulateAITyping('Îçî ÌïòÍ≥† Ïã∂ÏùÄ ÎßêÏù¥ ÏûàÎÇòÏöî?', () => {
                setChatMessages(prev => [...prev, { 
                  type: 'ai', 
                  content: 'Îçî ÌïòÍ≥† Ïã∂ÏùÄ ÎßêÏù¥ ÏûàÎÇòÏöî?', 
                  showButtons: ['Ïòà', 'ÏïÑÎãàÏò§'] 
                }]);
                setChatPhase('additional');
              });
            }
          };

          const handleAdditionalResponse = (response) => {
            if (response === 'Ïòà') {
              setChatMessages(prev => [...prev, 
                { type: 'user', content: 'Ïòà' },
                { type: 'ai', content: 'ÏûêÏú†Î°≠Í≤å ÎßêÏîÄÌï¥ Ï£ºÏÑ∏Ïöî.' }
              ]);
            } else {
              setChatMessages(prev => [...prev, 
                { type: 'user', content: 'ÏïÑÎãàÏò§' },
                { type: 'ai', content: 'Îß§Ïπ≠ Í≤∞Í≥ºÎ•º Î≥¥ÏãúÍ≤†ÏäµÎãàÍπå?', showButtons: ['Ïòà', 'ÏïÑÎãàÏò§'] }
              ]);
              setChatPhase('complete');
            }
          };

          const handleMatchingRequest = (response) => {
            if (response === 'Ïòà') {
              setChatMessages(prev => [...prev, { type: 'user', content: 'Ïòà' }]);
              
              const mockMatches = Math.random() > 0.3 ? [
                { name: 'ÍπÄÏòÅÌù¨', matchCount: 12 },
                { name: 'Î∞ïÏ≤†Ïàò', matchCount: 8 },
                { name: 'Ïù¥ÎØºÏàò', matchCount: 6 }
              ] : [];
              
              setMatches(mockMatches);
              
              if (mockMatches.length === 0) {
                simulateAITyping('Ïï± Ï¥àÍ∏∞ÏûÖÎãàÎã§. ÏãúÍ∞ÑÏù¥ ÌùêÎ•ºÏàòÎ°ù ÏÇ¨Ïö©ÏûêÍ∞Ä ÎäòÏñ¥ÎÇòÎØÄÎ°ú ÏûêÏ£º Îì§Ïñ¥ÏôÄÏÑú Îß§Ïπ≠ Í≤∞Í≥ºÎ•º ÌôïÏù∏Ìï¥ Ï£ºÏÑ∏Ïöî. Ï∂îÍ∞Ä Ï†ïÎ≥¥ ÏûÖÎ†•ÏùÑ ÏõêÌïòÏã§ Í≤ΩÏö∞ Ïπ¥ÌÖåÍ≥†Î¶¨Î•º ÏÑ†ÌÉùÌïòÎ©¥ AIÍ∞Ä ÎèÑÏôÄÎìúÎ¶ΩÎãàÎã§.');
              } else {
                simulateAITyping('Îß§Ïπ≠ Í≤∞Í≥ºÎ•º Ï∞æÏïòÏäµÎãàÎã§! ÏÉÅÎåÄÎ∞©ÏùÑ ÏÑ†ÌÉùÌïòÎ©¥ ÏùºÎåÄÏùº Ï±ÑÌåÖÎ∞©ÏúºÎ°ú ÏïàÎÇ¥Îê©ÎãàÎã§.');
              }
            } else {
              setChatMessages(prev => [...prev, 
                { type: 'user', content: 'ÏïÑÎãàÏò§' },
                { type: 'ai', content: 'Ïñ∏Ï†úÎì†ÏßÄ Îß§Ïπ≠ Í≤∞Í≥ºÎ•º ÌôïÏù∏ÌïòÍ≥† Ïã∂ÏúºÏãúÎ©¥ [Îß§Ïπ≠ Í≤∞Í≥º] Î≤ÑÌäºÏùÑ ÎàåÎü¨Ï£ºÏÑ∏Ïöî.' }
              ]);
            }
          };

          const handleSendMessage = () => {
            if (!currentMessage.trim()) return;
            
            if (chatPhase === 'questioning') {
              handleQuestionResponse(currentMessage);
            } else if (chatPhase === 'additional') {
              setChatMessages(prev => [...prev, { type: 'user', content: currentMessage }]);
              simulateAITyping('Í∞êÏÇ¨Ìï©ÎãàÎã§. Îß§Ïπ≠ Í≤∞Í≥ºÎ•º Î≥¥ÏãúÍ≤†ÏäµÎãàÍπå?', () => {
                setChatMessages(prev => [...prev, { 
                  type: 'ai', 
                  content: 'Îß§Ïπ≠ Í≤∞Í≥ºÎ•º Î≥¥ÏãúÍ≤†ÏäµÎãàÍπå?', 
                  showButtons: ['Ïòà', 'ÏïÑÎãàÏò§'] 
                }]);
                setChatPhase('complete');
              });
            } else {
              setChatMessages(prev => [...prev, { type: 'user', content: currentMessage }]);
              simulateAITyping('ÎèÑÏõÄÏù¥ Îçî ÌïÑÏöîÌïòÏãúÎ©¥ Ïñ∏Ï†úÎì† ÎßêÏîÄÌï¥ Ï£ºÏÑ∏Ïöî!');
            }
            
            setCurrentMessage('');
          };

          const handleMatchSelect = (match) => {
            setSelectedMatch(match);
            setCurrentScreen('privateChat');
            setPrivateMessages([
              { type: 'other', content: 'ÏïàÎÖïÌïòÏÑ∏Ïöî! Ï†ïÎßê Ï†ÄÎ•º Ï∞æÍ≥† Í≥ÑÏÖ®ÎÇòÏöî?' },
              { type: 'info', content: 'üí° ÌôïÏù∏ Î∞©Î≤ï ÏïàÎÇ¥\nÏÑúÎ°úÏùò Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìïú ÌõÑ, ÏòõÎÇ† ÏÇ¨ÏßÑ, ÏßÄÎ¨∏, Ïú†Ï†ÑÏûê Îì±ÏúºÎ°ú ÏµúÏ¢Ö ÌôïÏù∏ÏùÑ Ìï† Ïàò ÏûàÏäµÎãàÎã§.' }
            ]);
          };

          const handlePrivateMessageSend = () => {
            if (!privateChatMessage.trim()) return;
            
            setPrivateMessages(prev => [...prev, { type: 'me', content: privateChatMessage }]);
            setPrivateChatMessage('');
            
            setTimeout(() => {
              const responses = [
                'ÎÑ§, ÎßûÏäµÎãàÎã§! Ï†ïÎßê Ïò§ÎûúÎßåÏù¥ÏóêÏöî.',
                'ÌòπÏãú Í∏∞ÏñµÎÇòÎäî Í≤ÉÏù¥ Îçî ÏûàÎÇòÏöî?',
                'ÏÇ¨ÏßÑÏùÑ Î≥¥ÎÇ¥ÎìúÎ¶¥ÍπåÏöî?',
                'Ïñ∏Ï†ú ÎßåÎÇ† Ïàò ÏûàÏùÑÍπåÏöî?'
              ];
              const randomResponse = responses[Math.floor(Math.random() * responses.length)];
              setPrivateMessages(prev => [...prev, { type: 'other', content: randomResponse }]);
            }, 1000 + Math.random() * 2000);
          };

          const resetApp = () => {
            setSelectedCategory('');
            setChatMessages([{
              type: 'ai',
              content: 'ÏïàÎÖïÌïòÏÑ∏Ïöî! Íº¨Íº¨ÎÑàÏóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§. ÏïÑÎûò Ïπ¥ÌÖåÍ≥†Î¶¨ÏóêÏÑú ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî.'
            }]);
            setChatPhase('category');
            setCurrentQuestionIndex(0);
            setUserResponses({});
            setMatches([]);
            setCurrentScreen('main');
          };

          if (currentScreen === 'login') {
            return React.createElement('div', { className: "min-h-screen bg-gradient-to-b from-orange-50 to-orange-100 p-4" },
              React.createElement('div', { className: "max-w-md mx-auto pt-12" },
                React.createElement('div', { className: "text-center mb-12" },
                  React.createElement('h1', { className: "text-3xl font-bold text-orange-600 mb-2" }, "Íº¨Íº¨ÎÑà"),
                  React.createElement('p', { className: "text-gray-600 text-sm" }, "Íº¨Î¶¨Ïóê Íº¨Î¶¨Î•º Î¨ºÏñ¥ Ï∞æÏùÄ ÎÑà"),
                  React.createElement('p', { className: "text-orange-500 text-xs mt-2" }, "AIÍ∞Ä ÎèÑÏôÄÎìúÎ¶ΩÎãàÎã§")
                ),
                React.createElement('div', { className: "bg-white rounded-2xl shadow-lg p-6" },
                  React.createElement('div', { className: "space-y-4" },
                    React.createElement('input', {
                      type: "text",
                      placeholder: "ÏïÑÏù¥Îîî",
                      className: "w-full p-4 border border-gray-200 rounded-xl focus:outline-none focus:border-orange-400",
                      value: user.username,
                      onChange: (e) => setUser({...user, username: e.target.value})
                    }),
                    React.createElement('input', {
                      type: "password",
                      placeholder: "ÎπÑÎ∞ÄÎ≤àÌò∏",
                      className: "w-full p-4 border border-gray-200 rounded-xl focus:outline-none focus:border-orange-400",
                      value: user.password,
                      onChange: (e) => setUser({...user, password: e.target.value})
                    }),
                    React.createElement('button', {
                      onClick: handleLogin,
                      className: "w-full bg-orange-500 text-white py-4 rounded-xl font-semibold hover:bg-orange-600 transition-colors"
                    }, "Î°úÍ∑∏Ïù∏"),
                    React.createElement('button', {
                      className: "w-full bg-gray-100 text-gray-700 py-4 rounded-xl font-semibold hover:bg-gray-200 transition-colors"
                    }, "ÌöåÏõêÍ∞ÄÏûÖ")
                  )
                )
              )
            );
          }

          if (currentScreen === 'main') {
            return React.createElement('div', { className: "min-h-screen bg-gray-50 flex flex-col" },
              React.createElement('div', { className: "bg-white border-b border-gray-200 p-4 flex items-center justify-between" },
                React.createElement('div', { className: "flex items-center gap-2" },
                  React.createElement(Bot, { className: "text-orange-500", size: 24 }),
                  React.createElement('h1', { className: "text-lg font-bold text-gray-800" }, "Íº¨Íº¨ÎÑà AI")
                ),
                React.createElement('div', { className: "flex gap-2" },
                  React.createElement('button', {
                    onClick: resetApp,
                    className: "p-2 hover:bg-gray-100 rounded-lg transition-colors",
                    title: "Ï¥àÍ∏∞Ìôî"
                  }, React.createElement(RotateCcw, { size: 20, className: "text-gray-600" })),
                  React.createElement('button', {
                    onClick: () => setCurrentScreen('login'),
                    className: "p-2 hover:bg-gray-100 rounded-lg transition-colors",
                    title: "Î°úÍ∑∏ÏïÑÏõÉ"
                  }, React.createElement(LogOut, { size: 20, className: "text-gray-600" }))
                )
              ),
              React.createElement('div', { className: "flex-1 overflow-y-auto p-4 space-y-4 pb-20" },
                ...chatMessages.map((message, index) =>
                  React.createElement('div', { key: index, className: `flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}` },
                    React.createElement('div', { className: `max-w-xs md:max-w-md lg:max-w-lg xl:max-w-xl p-3 rounded-lg ${message.type === 'user' ? 'bg-orange-500 text-white' : 'bg-white text-gray-800 border border-gray-200'}` },
                      React.createElement('div', { className: "flex items-start gap-2" },
                        message.type === 'ai' && React.createElement(Bot, { size: 18, className: "text-orange-500 mt-0.5 flex-shrink-0" }),
                        React.createElement('div', { className: "flex-1" },
                          React.createElement('p', { className: "text-sm whitespace-pre-wrap" }, message.content),
                          message.showButtons && React.createElement('div', { className: "flex gap-2 mt-3" },
                            ...message.showButtons.map((button, btnIndex) =>
                              React.createElement('button', {
                                key: btnIndex,
                                onClick: () => {
                                  if (chatPhase === 'category') {
                                    handleCategoryChange(button);
                                  } else if (chatPhase === 'additional') {
                                    handleAdditionalResponse(button);
                                  } else if (chatPhase === 'complete') {
                                    handleMatchingRequest(button);
                                  }
                                },
                                className: "px-3 py-1 bg-orange-500 text-white text-xs rounded-full hover:bg-orange-600 transition-colors"
                              }, button)
                            )
                          ),
                          message.showSkipButton && chatPhase === 'questioning' && React.createElement('div', { className: "mt-3" },
                            React.createElement('button', {
                              onClick: () => handleQuestionResponse('Ìï¥ÎãπÏÇ¨Ìï≠ÏóÜÏùå'),
                              className: "px-3 py-1 bg-gray-400 text-white text-xs rounded-full hover:bg-gray-500 transition-colors"
                            }, "Ìï¥ÎãπÏÇ¨Ìï≠ÏóÜÏùå")
                          )
                        )
                      )
                    )
                  )
                ),
                isAITyping && React.createElement('div', { className: "flex justify-start" },
                  React.createElement('div', { className: "bg-white border border-gray-200 p-3 rounded-lg" },
                    React.createElement('div', { className: "flex items-center gap-2" },
                      React.createElement(Bot, { size: 18, className: "text-orange-500" }),
                      React.createElement('div', { className: "flex gap-1" },
                        React.createElement('div', { className: "w-2 h-2 bg-gray-400 rounded-full animate-bounce" }),
                        React.createElement('div', { className: "w-2 h-2 bg-gray-400 rounded-full animate-bounce", style: {animationDelay: '0.1s'} }),
                        React.createElement('div', { className: "w-2 h-2 bg-gray-400 rounded-full animate-bounce", style: {animationDelay: '0.2s'} })
                      )
                    )
                  )
                ),
                React.createElement('div', { ref: messagesEndRef })
              ),
              chatPhase === 'category' && React.createElement('div', { className: "fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4" },
                React.createElement('div', { className: "max-w-md mx-auto" },
                  React.createElement('div', { className: "grid grid-cols-2 gap-2 mb-4" },
                    ...categories.map((category, index) =>
                      React.createElement('button', {
                        key: index,
                        onClick: () => handleCategorySelect(category),
                        className: `p-3 rounded-lg text-sm font-medium transition-colors ${selectedCategory === category ? 'bg-orange-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`
                      }, category)
                    )
                  ),
                  React.createElement('button', {
                    onClick: () => {
                      const mockMatches = Math.random() > 0.5 ? [
                        { name: 'ÍπÄÏòÅÌù¨', matchCount: 12 },
                        { name: 'Î∞ïÏ≤†Ïàò', matchCount: 8 }
                      ] : [];
                      setMatches(mockMatches);
                      
                      if (mockMatches.length === 0) {
                        setChatMessages(prev => [...prev, {
                          type: 'ai',
                          content: 'Ïï± Ï¥àÍ∏∞ÏûÖÎãàÎã§. ÏãúÍ∞ÑÏù¥ ÌùêÎ•ºÏàòÎ°ù ÏÇ¨Ïö©ÏûêÍ∞Ä ÎäòÏñ¥ÎÇòÎØÄÎ°ú ÏûêÏ£º Îì§Ïñ¥ÏôÄÏÑú Îß§Ïπ≠ Í≤∞Í≥ºÎ•º ÌôïÏù∏Ìï¥ Ï£ºÏÑ∏Ïöî.'
                        }]);
                      } else {
                        setChatMessages(prev => [...prev, {
                          type: 'ai',
                          content: 'Îß§Ïπ≠ Í≤∞Í≥ºÎ•º Ï∞æÏïòÏäµÎãàÎã§!'
                        }]);
                      }
                    },
                    className: "w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition-colors flex items-center justify-center gap-2"
                  }, React.createElement(Search, { size: 18 }), "Îß§Ïπ≠ Í≤∞Í≥º")
                )
              ),
              matches.length > 0 && React.createElement('div', { className: "fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4" },
                React.createElement('div', { className: "max-w-md mx-auto" },
                  React.createElement('h3', { className: "font-semibold text-gray-800 mb-3" }, "Îß§Ïπ≠ Í≤∞Í≥º"),
                  React.createElement('div', { className: "space-y-2 max-h-60 overflow-y-auto" },
                    ...matches.map((match, index) =>
                      React.createElement('div', { key: index, className: "bg-orange-50 p-3 rounded-lg flex items-center justify-between" },
                        React.createElement('div', {},
                          React.createElement('span', { className: "font-semibold text-gray-800" }, match.name),
                          React.createElement('span', { className: "text-orange-600 ml-2" }, `(${match.matchCount}Í∞ú ÏùºÏπò)`)
                        ),
                        React.createElement('button', {
                          onClick: () => handleMatchSelect(match),
                          className: "bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors flex items-center gap-2"
                        }, React.createElement(MessageCircle, { size: 16 }), "Ï±ÑÌåÖÌïòÍ∏∞")
                      )
                    )
                  )
                )
              ),
              (chatPhase === 'questioning' || chatPhase === 'additional') && React.createElement('div', { className: "fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4" },
                React.createElement('div', { className: "max-w-md mx-auto flex gap-2" },
                  React.createElement('input', {
                    type: "text",
                    ref: inputRef,
                    value: currentMessage,
                    onChange: (e) => setCurrentMessage(e.target.value),
                    onKeyPress: (e) => e.key === 'Enter' && handleSendMessage(),
                    placeholder: "Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...",
                    className: "flex-1 p-3 border border-gray-200 rounded-lg focus:outline-none focus:border
                    className: "flex-1 p-3 border border-gray-200 rounded-lg focus:outline-none focus:border-orange-400"
                 }),
                 React.createElement('button', {
                   onClick: handleSendMessage,
                   className: "bg-orange-500 text-white px-4 py-3 rounded-lg hover:bg-orange-600 transition-colors"
                 }, React.createElement(Send, { size: 18 }))
               )
             )
           );
         }

         if (currentScreen === 'privateChat' && selectedMatch) {
           return React.createElement('div', { className: "min-h-screen bg-gray-50 flex flex-col" },
             React.createElement('div', { className: "bg-white border-b border-gray-200 p-4 flex items-center gap-3" },
               React.createElement('button', {
                 onClick: () => setCurrentScreen('main'),
                 className: "p-2 hover:bg-gray-100 rounded-lg transition-colors"
               }, React.createElement(ArrowLeft, { size: 20 })),
               React.createElement('h2', { className: "text-lg font-semibold text-gray-800" }, `${selectedMatch.name}ÎãòÍ≥ºÏùò Ï±ÑÌåÖ`)
             ),
             React.createElement('div', { className: "flex-1 overflow-y-auto p-4 space-y-4 pb-20" },
               ...privateMessages.map((message, index) =>
                 React.createElement('div', { key: index, className: `flex ${message.type === 'me' ? 'justify-end' : message.type === 'info' ? 'justify-center' : 'justify-start'}` },
                   React.createElement('div', { className: `max-w-xs md:max-w-md p-3 rounded-lg ${message.type === 'me' ? 'bg-orange-500 text-white' : message.type === 'info' ? 'bg-blue-50 text-blue-800 border border-blue-200' : 'bg-white text-gray-800 border border-gray-200'}` },
                     React.createElement('p', { className: "text-sm whitespace-pre-wrap" }, message.content)
                   )
                 )
               )
             ),
             React.createElement('div', { className: "fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4" },
               React.createElement('div', { className: "max-w-md mx-auto" },
                 React.createElement('div', { className: "flex gap-2 mb-3" },
                   React.createElement('input', {
                     type: "text",
                     value: privateChatMessage,
                     onChange: (e) => setPrivateChatMessage(e.target.value),
                     onKeyPress: (e) => e.key === 'Enter' && handlePrivateMessageSend(),
                     placeholder: "Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...",
                     className: "flex-1 p-3 border border-gray-200 rounded-lg focus:outline-none focus:border-orange-400"
                   }),
                   React.createElement('button', {
                     onClick: handlePrivateMessageSend,
                     className: "bg-orange-500 text-white px-4 py-3 rounded-lg hover:bg-orange-600 transition-colors"
                   }, React.createElement(Send, { size: 18 }))
                 ),
                 React.createElement('button', {
                   onClick: () => setCurrentScreen('main'),
                   className: "w-full bg-gray-100 text-gray-700 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors"
                 }, "ÎÇòÍ∞ÄÍ∏∞")
               )
             )
           );
         }

         return null;
       };

       ReactDOM.render(React.createElement(KokkoNeoAIApp), document.getElementById('root'));
   </script>
</body>
</html>  
