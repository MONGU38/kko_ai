<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¼¬ê¼¬ë„ˆ - ê¼¬ë¦¬ì— ê¼¬ë¦¬ë¥¼ ë¬¼ì–´ ì°¾ì€ ë„ˆ</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { 
          ChevronDown, 
          ChevronUp, 
          MessageCircle, 
          Home, 
          Search, 
          ArrowLeft, 
          Send,
          Bot,
          User,
          RotateCcw,
          LogOut
        } = lucide;

        const KokkoNeoAIApp = () => {
          const [currentScreen, setCurrentScreen] = useState('login');
          const [user, setUser] = useState({ username: '', password: '' });
          const [selectedCategory, setSelectedCategory] = useState('');
          const [chatMessages, setChatMessages] = useState([]);
          const [currentMessage, setCurrentMessage] = useState('');
          const [isAITyping, setIsAITyping] = useState(false);
          const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
          const [userResponses, setUserResponses] = useState({});
          const [chatPhase, setChatPhase] = useState('category');
          const [matches, setMatches] = useState([]);
          const [selectedMatch, setSelectedMatch] = useState(null);
          const [privateMessages, setPrivateMessages] = useState([]);
          const [privateChatMessage, setPrivateChatMessage] = useState('');
          
          const messagesEndRef = useRef(null);
          const inputRef = useRef(null);

          const categories = [
            'ì‹¤ì¢…ì•„ë™ ë° ê°€ì¡±',
            'ì´ì‚°ê°€ì¡±', 
            'ë™ë„¤ì¹œêµ¬',
            'í•™êµì¹œêµ¬',
            'ì—°ì¸ì°¾ê¸°',
            'êµ°ëŒ€ì¹œêµ¬',
            'ì§ì¥ì¹œêµ¬'
          ];

          const basicQuestions = [
            'ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš” (ê°€ëª…ì´ë‚˜ ë³„ëª…ë„ ê°€ëŠ¥í•´ìš”)',
            'íƒœì–´ë‚œ ìƒë…„ì›”ì¼ì„ ì•Œë ¤ì£¼ì„¸ìš”',
            'ë‹¤ë‹ˆì…¨ë˜ ì´ˆì¤‘ê³ ëŒ€í•™ê³¼ ì „ê³µì„ ì•Œë ¤ì£¼ì„¸ìš”',
            'ë¶€ëª¨ë‹˜ì˜ ì´ë¦„ê³¼ ì§ì—…ì„ ì•Œë ¤ì£¼ì„¸ìš”',
            'í˜•ì œìë§¤ì˜ ì´ë¦„ê³¼ ë³„ëª…ì„ ì•Œë ¤ì£¼ì„¸ìš”',
            'ì‹ ì²´ íŠ¹ì§•ì´ ìˆë‹¤ë©´ ì•Œë ¤ì£¼ì„¸ìš” (ë¬¸ì‹ , ì , ìƒì²˜ ë“±)',
            'ë§ì´ ì•“ìœ¼ì…¨ë˜ ë³‘ì´ ìˆë‹¤ë©´ ì•Œë ¤ì£¼ì„¸ìš”',
            'ì‚´ìœ¼ì…¨ë˜ ë™ë„¤ë“¤ì„ ëª¨ë‘ ì•Œë ¤ì£¼ì„¸ìš”'
          ];

          const categoryQuestions = {
            'ì‹¤ì¢…ì•„ë™ ë° ê°€ì¡±': [
              'ì‚´ë˜ ì§‘ì˜ í˜•íƒœëŠ” ì–´ë– ì…¨ë‚˜ìš”? (í•œì˜¥, ì–‘ì˜¥, ë‹¤ì„¸ëŒ€, ì—°ë¦½, ì•„íŒŒíŠ¸)',
              'ëª‡ ì¸µì— ì‚¬ì…¨ëŠ”ì§€ ê¸°ì–µë‚˜ì‹œë‚˜ìš”?',
              'ëŒ€ë¬¸ì˜ ìƒ‰ê¹”ì€ ì–´ë– ì…¨ë‚˜ìš”?',
              'ëŒ€ë¬¸ì´ ë‚˜ë¬´ì˜€ëŠ”ì§€ ì² ì œì˜€ëŠ”ì§€ ê¸°ì–µë‚˜ì‹œë‚˜ìš”?',
              'ì§‘ ì•ì— ê³„ë‹¨ì´ ìˆì—ˆë‚˜ìš”?',
              'ì§‘ ê·¼ì²˜ì— ìš°ë¬¼, ë†€ì´í„°, ê³µì›ì´ ìˆì—ˆë‚˜ìš”?',
              'ì§‘ ê·¼ì²˜ì— ì§€í•˜ì² , ê¸°ì°¨ì—­, ë²„ìŠ¤ì •ë¥˜ì†Œê°€ ìˆì—ˆë‚˜ìš”?',
              'ì§‘ì— ì‹­ìê°€ë‚˜ ë¶ˆêµ ê´€ë ¨ ë¬¼ê±´ì´ ìˆì—ˆë‚˜ìš”?',
              'ë§ˆë‹¹ì— ìˆë˜ ê²ƒë“¤ì„ ê¸°ì–µí•˜ì‹œë‚˜ìš”?'
            ],
            'ì´ì‚°ê°€ì¡±': [
              'ë³¸ì¸ì˜ ê³ í–¥ì€ ì–´ë””ì¸ê°€ìš”?',
              'ì°¾ê³  ê³„ì‹  ë¶„ì˜ ê³ í–¥ì€ ì–´ë””ì¸ê°€ìš”?',
              'ë³¸ì¸ì˜ ì‹ ì²´ íŠ¹ì§•ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'ì°¾ê³  ê³„ì‹  ë¶„ì˜ ì‹ ì²´ íŠ¹ì§•ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'ì™¸ê°€ë‚˜ ì¹œê°€ì—ì„œ ê¸°ì–µë‚˜ëŠ” ì´ë¦„ë“¤ì„ ëª¨ë‘ ì•Œë ¤ì£¼ì„¸ìš”',
              'ì™¸ê°€ë‚˜ ì¹œê°€ë“¤ì´ ì‚´ë˜ ë™ë„¤ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”',
              'í—¤ì–´ì§„ ë…„ë„ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”',
              'í—¤ì–´ì§„ ì´ìœ ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”'
            ],
            'ë™ë„¤ì¹œêµ¬': [
              'ì‚´ë˜ ì§‘ì˜ í˜•íƒœëŠ” ì–´ë– ì…¨ë‚˜ìš”? (í•œì˜¥, ì–‘ì˜¥, ë‹¤ì„¸ëŒ€, ì—°ë¦½, ì•„íŒŒíŠ¸)',
              'ëª‡ ì¸µì— ì‚¬ì…¨ëŠ”ì§€ ê¸°ì–µë‚˜ì‹œë‚˜ìš”?',
              'ëŒ€ë¬¸ì˜ ìƒ‰ê¹”ì€ ì–´ë– ì…¨ë‚˜ìš”?',
              'ëŒ€ë¬¸ì´ ë‚˜ë¬´ì˜€ëŠ”ì§€ ì² ì œì˜€ëŠ”ì§€ ê¸°ì–µë‚˜ì‹œë‚˜ìš”?',
              'ì§‘ ì•ì— ê³„ë‹¨ì´ ìˆì—ˆë‚˜ìš”?',
              'ì§‘ ê·¼ì²˜ì— ìš°ë¬¼, ë†€ì´í„°, ê³µì›ì´ ìˆì—ˆë‚˜ìš”?',
              'ì§‘ ê·¼ì²˜ì— ì§€í•˜ì² , ê¸°ì°¨ì—­, ë²„ìŠ¤ì •ë¥˜ì†Œê°€ ìˆì—ˆë‚˜ìš”?',
              'ì§‘ì— ì‹­ìê°€ë‚˜ ë¶ˆêµ ê´€ë ¨ ë¬¼ê±´ì´ ìˆì—ˆë‚˜ìš”?'
            ],
            'í•™êµì¹œêµ¬': [
              'ì°¾ê³  ê³„ì‹  ì¹œêµ¬ì˜ ì´ë¦„ì´ë‚˜ ë³„ëª…ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'í•™êµëª…ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'í•™ê³¼ë‚˜ ì „ê³µì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'ì˜ í•˜ë˜ ê³¼ëª©ì´ ìˆì—ˆë‚˜ìš”?',
              'ì¹œêµ¬ì™€ í•™êµì—ì„œ ìˆì—ˆë˜ í•´í”„ë‹ì´ ìˆë‚˜ìš”?',
              'ì–´ë ¤ì›€ì´ë‚˜ ê³¤ê²½ì—ì„œ ë„ì™€ì¤€ ì¼ì´ ìˆë‚˜ìš”?',
              'ì†Œí’ì´ë‚˜ ìˆ˜í•™ì—¬í–‰ì€ ì–´ë””ë¡œ ê°”ì—ˆë‚˜ìš”?',
              'ìˆ˜í•™ì—¬í–‰ì—ì„œ ê¸°ì–µì— ë‚¨ëŠ” ì¼ì´ ìˆë‚˜ìš”?'
            ],
            'ì—°ì¸ì°¾ê¸°': [
              'ì—°ì¸ì˜ ì„±ë³„ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'ì—°ì¸ì˜ ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'ì—°ì¸ì˜ ì§ì—…ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'ì—°ì¸ì„ ë§Œë‚œ ë…„ë„ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”',
              'í—¤ì–´ì§„ ë…„ë„ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”',
              'í—¤ì–´ì§„ ì´ìœ ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”',
              'ê¸°ì–µì— ë‚¨ì€ ì—¬í–‰ì§€ì™€ ì—°ë„ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”',
              'ê¸°ì–µì— ë‚¨ëŠ” ì‚¬ê±´ì´ ìˆë‚˜ìš”?'
            ],
            'êµ°ëŒ€ì¹œêµ¬': [
              'ì°¾ê³  ê³„ì‹  ë¶„ì˜ ì´ë¦„ì´ë‚˜ ë³„ëª…ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'ê³„ê¸‰ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'êµ°ë²ˆì„ ê¸°ì–µí•˜ì‹œë‚˜ìš”?',
              'í•™ë ¥ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'í˜•ì œ ì¤‘ ëª‡ ë‚¨ ëª‡ ë…€ì¸ì§€ ì•Œë ¤ì£¼ì„¸ìš”',
              'ì‹ ì²´ íŠ¹ì§•ì´ë‚˜ ì , ìƒì²˜ê°€ ìˆì—ˆë‚˜ìš”?',
              'ê³ í–¥ì´ ì–´ë””ì¸ê°€ìš”?',
              'ì‚´ë˜ ë™ë„¤ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”',
              'ë¶€ëª¨ë‹˜ì˜ ì§ì—…ì„ ì•Œë ¤ì£¼ì„¸ìš”'
            ],
            'ì§ì¥ì¹œêµ¬': [
              'ì°¾ê³  ê³„ì‹  ë¶„ì˜ ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'ì§ì±…ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'ì§ë¬´ë¥¼ ì•Œë ¤ì£¼ì„¸ìš” (ì˜ì—…, íŒë§¤, ê²½ë¦¬ ë“±)',
              'íšŒì‚¬ëª…ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'íšŒì‚¬ ì£¼ì†Œë¥¼ ì•Œë ¤ì£¼ì„¸ìš” (ì—¬ì˜ë„, ëª…ë™ ë“±)',
              'íšŒì‚¬ ëŒ€í‘œ ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš”',
              'ì—…ì¢…ì„ ì•Œë ¤ì£¼ì„¸ìš”'
            ]
          };

          const scrollToBottom = () => {
            messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
          };

          useEffect(() => {
            scrollToBottom();
            if ((chatPhase === 'questioning' || chatPhase === 'additional') && inputRef.current) {
              setTimeout(() => {
                inputRef.current?.focus();
              }, 100);
            }
          }, [chatMessages, isAITyping, chatPhase]);

          const simulateAITyping = (message, callback) => {
            setIsAITyping(true);
            setTimeout(() => {
              setChatMessages(prev => [...prev, { 
                type: 'ai', 
                content: message,
                showSkipButton: chatPhase === 'questioning' || (callback && chatPhase !== 'additional' && chatPhase !== 'complete')
              }]);
              setIsAITyping(false);
              if (callback) callback();
            }, 1000 + Math.random() * 1000);
          };

          const handleLogin = () => {
            if (user.username && user.password) {
              setCurrentScreen('main');
              setChatMessages([{
                type: 'ai',
                content: 'ì•ˆë…•í•˜ì„¸ìš”! ê¼¬ê¼¬ë„ˆì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤. ì•„ë˜ ì¹´í…Œê³ ë¦¬ì—ì„œ ì„ íƒí•´ ì£¼ì„¸ìš”.'
              }]);
            }
          };

          const handleCategorySelect = (category) => {
            if (selectedCategory === category) return;
            
            if (selectedCategory && selectedCategory !== category) {
              setChatMessages(prev => [...prev, 
                { type: 'user', content: category },
                { type: 'ai', content: `${category}ë¡œ ë³€ê²½í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`, showButtons: ['ì˜ˆ', 'ì•„ë‹ˆì˜¤'] }
              ]);
              return;
            }
            
            setSelectedCategory(category);
            setChatMessages(prev => [...prev, 
              { type: 'user', content: category },
              { type: 'ai', content: `${category}ì— ëŒ€í•œ ìë£Œë¥¼ ìˆ˜ì§‘í•˜ê² ìŠµë‹ˆë‹¤. ë¨¼ì € ê¸°ë³¸ ì •ë³´ë¶€í„° ì•Œë ¤ì£¼ì„¸ìš”.` }
            ]);
            setChatPhase('questioning');
            setCurrentQuestionIndex(0);
            
            setTimeout(() => {
              simulateAITyping(basicQuestions[0]);
            }, 1000);
          };

          const handleCategoryChange = (confirm) => {
            if (confirm === 'ì˜ˆ') {
              const newCategory = chatMessages[chatMessages.length-2].content;
              setSelectedCategory(newCategory);
              setChatMessages(prev => [...prev, 
                { type: 'user', content: 'ì˜ˆ' },
                { type: 'ai', content: `${newCategory}ì— ëŒ€í•œ ìë£Œë¥¼ ìˆ˜ì§‘í•˜ê² ìŠµë‹ˆë‹¤. ë¨¼ì € ê¸°ë³¸ ì •ë³´ë¶€í„° ì•Œë ¤ì£¼ì„¸ìš”.` }
              ]);
              setChatPhase('questioning');
              setCurrentQuestionIndex(0);
              setUserResponses({});
              
              setTimeout(() => {
                simulateAITyping(basicQuestions[0]);
              }, 1000);
            } else {
              setChatMessages(prev => [...prev, 
                { type: 'user', content: 'ì•„ë‹ˆì˜¤' },
                { type: 'ai', content: 'ì•„ë˜ ì¹´í…Œê³ ë¦¬ì—ì„œ ë‹¤ì‹œ ì„ íƒí•´ ì£¼ì„¸ìš”.' }
              ]);
            }
          };

          const handleQuestionResponse = (response) => {
            setChatMessages(prev => [...prev, { type: 'user', content: response }]);
            
            const allQuestions = [...basicQuestions, ...(categoryQuestions[selectedCategory] || [])];
            const responseKey = `q_${currentQuestionIndex}`;
            setUserResponses(prev => ({ ...prev, [responseKey]: response }));
            
            if (currentQuestionIndex < allQuestions.length - 1) {
              const nextIndex = currentQuestionIndex + 1;
              setCurrentQuestionIndex(nextIndex);
              simulateAITyping(allQuestions[nextIndex]);
            } else {
              simulateAITyping('ë” í•˜ê³  ì‹¶ì€ ë§ì´ ìˆë‚˜ìš”?', () => {
                setChatMessages(prev => [...prev, { 
                  type: 'ai', 
                  content: 'ë” í•˜ê³  ì‹¶ì€ ë§ì´ ìˆë‚˜ìš”?', 
                  showButtons: ['ì˜ˆ', 'ì•„ë‹ˆì˜¤'] 
                }]);
                setChatPhase('additional');
              });
            }
          };

          const handleAdditionalResponse = (response) => {
            if (response === 'ì˜ˆ') {
              setChatMessages(prev => [...prev, 
                { type: 'user', content: 'ì˜ˆ' },
                { type: 'ai', content: 'ììœ ë¡­ê²Œ ë§ì”€í•´ ì£¼ì„¸ìš”.' }
              ]);
            } else {
              setChatMessages(prev => [...prev, 
                { type: 'user', content: 'ì•„ë‹ˆì˜¤' },
                { type: 'ai', content: 'ë§¤ì¹­ ê²°ê³¼ë¥¼ ë³´ì‹œê² ìŠµë‹ˆê¹Œ?', showButtons: ['ì˜ˆ', 'ì•„ë‹ˆì˜¤'] }
              ]);
              setChatPhase('complete');
            }
          };

          const handleMatchingRequest = (response) => {
            if (response === 'ì˜ˆ') {
              setChatMessages(prev => [...prev, { type: 'user', content: 'ì˜ˆ' }]);
              
              const mockMatches = Math.random() > 0.3 ? [
                { name: 'ê¹€ì˜í¬', matchCount: 12 },
                { name: 'ë°•ì² ìˆ˜', matchCount: 8 },
                { name: 'ì´ë¯¼ìˆ˜', matchCount: 6 }
              ] : [];
              
              setMatches(mockMatches);
              
              if (mockMatches.length === 0) {
                simulateAITyping('ì•± ì´ˆê¸°ì…ë‹ˆë‹¤. ì‹œê°„ì´ íë¥¼ìˆ˜ë¡ ì‚¬ìš©ìê°€ ëŠ˜ì–´ë‚˜ë¯€ë¡œ ìì£¼ ë“¤ì–´ì™€ì„œ ë§¤ì¹­ ê²°ê³¼ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”. ì¶”ê°€ ì •ë³´ ì…ë ¥ì„ ì›í•˜ì‹¤ ê²½ìš° ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ë©´ AIê°€ ë„ì™€ë“œë¦½ë‹ˆë‹¤.');
              } else {
                simulateAITyping('ë§¤ì¹­ ê²°ê³¼ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤! ìƒëŒ€ë°©ì„ ì„ íƒí•˜ë©´ ì¼ëŒ€ì¼ ì±„íŒ…ë°©ìœ¼ë¡œ ì•ˆë‚´ë©ë‹ˆë‹¤.');
              }
            } else {
              setChatMessages(prev => [...prev, 
                { type: 'user', content: 'ì•„ë‹ˆì˜¤' },
                { type: 'ai', content: 'ì–¸ì œë“ ì§€ ë§¤ì¹­ ê²°ê³¼ë¥¼ í™•ì¸í•˜ê³  ì‹¶ìœ¼ì‹œë©´ [ë§¤ì¹­ ê²°ê³¼] ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.' }
              ]);
            }
          };

          const handleSendMessage = () => {
            if (!currentMessage.trim()) return;
            
            if (chatPhase === 'questioning') {
              handleQuestionResponse(currentMessage);
            } else if (chatPhase === 'additional') {
              setChatMessages(prev => [...prev, { type: 'user', content: currentMessage }]);
              simulateAITyping('ê°ì‚¬í•©ë‹ˆë‹¤. ë§¤ì¹­ ê²°ê³¼ë¥¼ ë³´ì‹œê² ìŠµë‹ˆê¹Œ?', () => {
                setChatMessages(prev => [...prev, { 
                  type: 'ai', 
                  content: 'ë§¤ì¹­ ê²°ê³¼ë¥¼ ë³´ì‹œê² ìŠµë‹ˆê¹Œ?', 
                  showButtons: ['ì˜ˆ', 'ì•„ë‹ˆì˜¤'] 
                }]);
                setChatPhase('complete');
              });
            } else {
              setChatMessages(prev => [...prev, { type: 'user', content: currentMessage }]);
              simulateAITyping('ë„ì›€ì´ ë” í•„ìš”í•˜ì‹œë©´ ì–¸ì œë“  ë§ì”€í•´ ì£¼ì„¸ìš”!');
            }
            
            setCurrentMessage('');
          };

          const handleMatchSelect = (match) => {
            setSelectedMatch(match);
            setCurrentScreen('privateChat');
            setPrivateMessages([
              { type: 'other', content: 'ì•ˆë…•í•˜ì„¸ìš”! ì •ë§ ì €ë¥¼ ì°¾ê³  ê³„ì…¨ë‚˜ìš”?' },
              { type: 'info', content: 'ğŸ’¡ í™•ì¸ ë°©ë²• ì•ˆë‚´\nì„œë¡œì˜ ì •ë³´ë¥¼ í™•ì¸í•œ í›„, ì˜›ë‚  ì‚¬ì§„, ì§€ë¬¸, ìœ ì „ì ë“±ìœ¼ë¡œ ìµœì¢… í™•ì¸ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' }
            ]);
          };

          const handlePrivateMessageSend = () => {
            if (!privateChatMessage.trim()) return;
            
            setPrivateMessages(prev => [...prev, { type: 'me', content: privateChatMessage }]);
            setPrivateChatMessage('');
            
            setTimeout(() => {
              const responses = [
                'ë„¤, ë§ìŠµë‹ˆë‹¤! ì •ë§ ì˜¤ëœë§Œì´ì—ìš”.',
                'í˜¹ì‹œ ê¸°ì–µë‚˜ëŠ” ê²ƒì´ ë” ìˆë‚˜ìš”?',
                'ì‚¬ì§„ì„ ë³´ë‚´ë“œë¦´ê¹Œìš”?',
                'ì–¸ì œ ë§Œë‚  ìˆ˜ ìˆì„ê¹Œìš”?'
              ];
              const randomResponse = responses[Math.floor(Math.random() * responses.length)];
              setPrivateMessages(prev => [...prev, { type: 'other', content: randomResponse }]);
            }, 1000 + Math.random() * 2000);
          };

          const resetApp = () => {
            setSelectedCategory('');
            setChatMessages([{
              type: 'ai',
              content: 'ì•ˆë…•í•˜ì„¸ìš”! ê¼¬ê¼¬ë„ˆì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤. ì•„ë˜ ì¹´í…Œê³ ë¦¬ì—ì„œ ì„ íƒí•´ ì£¼ì„¸ìš”.'
            }]);
            setChatPhase('category');
            setCurrentQuestionIndex(0);
            setUserResponses({});
            setMatches([]);
            setCurrentScreen('main');
          };

          // ë¡œê·¸ì¸ í™”ë©´
          if (currentScreen === 'login') {
            return (
              <div className="min-h-screen bg-gradient-to-b from-orange-50 to-orange-100 p-4">
                <div className="max-w-md mx-auto pt-12">
                  <div className="text-center mb-12">
                    <h1 className="text-3xl font-bold text-orange-600 mb-2">ê¼¬ê¼¬ë„ˆ</h1>
                    <p className="text-gray-600 text-sm">ê¼¬ë¦¬ì— ê¼¬ë¦¬ë¥¼ ë¬¼ì–´ ì°¾ì€ ë„ˆ</p>
                    <p className="text-orange-500 text-xs mt-2">AIê°€ ë„ì™€ë“œë¦½ë‹ˆë‹¤</p>
                  </div>
                  
                  <div className="bg-white rounded-2xl shadow-lg p-6">
                    <div className="space-y-4">
                      <input
                        type="text"
                        placeholder="ì•„ì´ë””"
                        className="w-full p-4 border border-gray-200 rounded-xl focus:outline-none focus:border-orange-400"
                        value={user.username}
                        onChange={(e) => setUser({...user, username: e.target.value})}
                      />
                      <input
                        type="password"
                        placeholder="ë¹„ë°€ë²ˆí˜¸"
                        className="w-full p-4 border border-gray-200 rounded-xl focus:outline-none focus:border-orange-400"
                        value={user.password}
                        onChange={(e) => setUser({...user, password: e.target.value})}
                      />
                      <button
                        onClick={handleLogin}
                        className="w-full bg-orange-500 text-white py-4 rounded-xl font-semibold hover:bg-orange-600 transition-colors"
                      >
                        ë¡œê·¸ì¸
                      </button>
                      <button
                        className="w-full bg-gray-100 text-gray-700 py-4 rounded-xl font-semibold hover:bg-gray-200 transition-colors"
                      >
                        íšŒì›ê°€ì…
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          // ë©”ì¸ ì±„íŒ… í™”ë©´
          if (currentScreen === 'main') {
            return (
              <div className="min-h-screen bg-gray-50 flex flex-col">
                {/* í—¤ë” */}
                <div className="bg-white border-b border-gray-200 p-4 flex items-center justify-between">
                  <div className="flex items-center gap-2">
                    <Bot className="text-orange-500" size={24} />
                    <h1 className="text-lg font-bold text-gray-800">ê¼¬ê¼¬ë„ˆ AI</h1>
                  </div>
                  <div className="flex gap-2">
                    <button
                      onClick={resetApp}
                      className="p-2 hover:bg-gray-100 rounded-lg transition-colors"
                      title="ì´ˆê¸°í™”"
                    >
                      <RotateCcw size={20} className="text-gray-600" />
                    </button>
                    <button
                      onClick={() => setCurrentScreen('login')}
                      className="p-2 hover:bg-gray-100 rounded-lg transition-colors"
                      title="ë¡œê·¸ì•„ì›ƒ"
                    >
                      <LogOut size={20} className="text-gray-600" />
                    </button>
                  </div>
                </div>

                {/* ì±„íŒ… ì˜ì—­ */}
                <div className="flex-1 overflow-y-auto p-4 space-y-4 pb-20">
                  {chatMessages.map((message, index) => (
                    <div key={index} className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`}>
                      <div className={`max-w-xs md:max-w-md lg:max-w-lg xl:max-w-xl p-3 rounded-lg ${
                        message.type === 'user' 
                          ? 'bg-orange-500 text-white' 
                          : 'bg-white text-gray-800 border border-gray-200'
                      }`}>
                        <div className="flex items-start gap-2">
                          {message.type === 'ai' && <Bot size={18} className="text-orange-500 mt-0.5 flex-shrink-0" />}
                          <div className="flex-1">
                            <p className="text-sm whitespace-pre-wrap">{message.content}</p>
                            {message.showButtons && (
                              <div className="flex gap-2 mt-3">
                                {message.showButtons.map((button, btnIndex) => (
                                  <button
                                    key={btnIndex}
                                    onClick={() => {
                                      if (chatPhase === 'category') {
                                        handleCategoryChange(button);
                                      } else if (chatPhase === 'additional') {
                                        handleAdditionalResponse(button);
                                      } else if (chatPhase === 'complete') {
                                        handleMatchingRequest(button);
                                      }
                                    }}
                                    className="px-3 py-1 bg-orange-500 text-white text-xs rounded-full hover:bg-orange-600 transition-colors"
                                  >
                                    {button}
                                  </button>
                                ))}
                              </div>
                            )}
                            {message.showSkipButton && chatPhase === 'questioning' && (
                              <div className="mt-3">
                                <button
                                  onClick={() => handleQuestionResponse('í•´ë‹¹ì‚¬í•­ì—†ìŒ')}
                                  className="px-3 py-1 bg-gray-400 text-white text-xs rounded-full hover:bg-gray-500 transition-colors"
                                >
                                  í•´ë‹¹ì‚¬í•­ì—†ìŒ
                                </button>
                              </div>
                            )}
                          </div>
                        </div>
                      </div>
                    </div>
                  ))}
                  
                  {isAITyping && (
                    <div className="flex justify-start">
                      <div className="bg-white border border-gray-200 p-3 rounded-lg">
                        <div className="flex items-center gap-2">
                          <Bot size={18} className="text-orange-500" />
                          <div className="flex gap-1">
                            <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                            <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{animationDelay: '0.1s'}}></div>
                            <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{animationDelay: '0.2s'}}></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                  
                  <div ref={messagesEndRef} />
                </div>

                {/* ì¹´í…Œê³ ë¦¬ ì„ íƒ ì˜ì—­ */}
                {chatPhase === 'category' && (
                  <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4">
                    <div className="max-w-md mx-auto">
                      <div className="grid grid-cols-2 gap-2 mb-4">
                        {categories.map((category, index) => (
                          <button
                            key={index}
                            onClick={() => handleCategorySelect(category)}
                            className={`p-3 rounded-lg text-sm font-medium transition-colors ${
                              selectedCategory === category
                                ? 'bg-orange-500 text-white'
                                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                            }`}
                          >
                            {category}
                          </button>
                        ))}
                      </div>
                      <button
                        onClick={() => {
                          const mockMatches = Math.random() > 0.5 ? [
                            { name: 'ê¹€ì˜í¬', matchCount: 12 },
                            { name: 'ë°•ì² ìˆ˜', matchCount: 8 }
                          ] : [];
                          setMatches(mockMatches);
                          
                          if (mockMatches.length === 0) {
                            setChatMessages(prev => [...prev, {
                              type: 'ai',
                              content: 'ì•± ì´ˆê¸°ì…ë‹ˆë‹¤. ì‹œê°„ì´ íë¥¼ìˆ˜ë¡ ì‚¬ìš©ìê°€ ëŠ˜ì–´ë‚˜ë¯€ë¡œ ìì£¼ ë“¤ì–´ì™€ì„œ ë§¤ì¹­ ê²°ê³¼ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.'
                            }]);
                          } else {
                            setChatMessages(prev => [...prev, {
                              type: 'ai',
                              content: 'ë§¤ì¹­ ê²°ê³¼ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤!'
                            }]);
                          }
                        }}
                        className="w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition-colors flex items-center justify-center gap-2"
                      >
                        <Search size={18} />
                        ë§¤ì¹­ ê²°ê³¼
                      </button>
                    </div>
                  </div>
                )}

                {/* ë§¤ì¹­ ê²°ê³¼ í‘œì‹œ */}
                {matches.length > 0 && (
                  <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4">
                    <div className="max-w-md mx-auto">
                      <h3 className="font-semibold text-gray-800 mb-3">ë§¤ì¹­ ê²°ê³¼</h3>
                      <div className="space-y-2 max-h-60 overflow-y-auto">
                        {matches.map((match, index) => (
                          <div key={index} className="bg-orange-50 p-3 rounded-lg flex items-center justify-between">
                            <div>
                              <span className="font-semibold text-gray-800">{match.name}</span>
                              <span className="text-orange-600 ml-2">({match.matchCount}ê°œ ì¼ì¹˜)</span>
                            </div>
                            <button
                              onClick={() => handleMatchSelect(match)}
                              className="bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors flex items-center gap-2"
                            >
                              <MessageCircle size={16} />
                              ì±„íŒ…í•˜ê¸°
                            </button>
                          </div>
                        ))}
                      </div>
                    </div>
                  </div>
                )}

                {/* ë©”ì‹œì§€ ì…ë ¥ ì˜ì—­ */}
                {(chatPhase === 'questioning' || chatPhase === 'additional') && (
                  <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4">
                    <div className="max-w-md mx-auto flex gap-2">
                      <input
                        type="text"
                        ref={inputRef}
                        value={currentMessage}
                        onChange={(e) => setCurrentMessage(e.target.value)}
                        onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}
                        placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
                        className="flex-1 p-3 border border-gray-200 rounded-lg focus:outline-none focus:border-orange-400"
                      />
                      <button
                        onClick={handleSendMessage}
                        className="bg-orange-500 text-white px-4 py-3 rounded-lg hover:bg-orange-600 transition-colors"
                      >
                        <Send size={18} />
                      </button>
                    </div>
                  </div>
                )}
              </div>
            );
          }

          // 1:1 ì±„íŒ… í™”ë©´
